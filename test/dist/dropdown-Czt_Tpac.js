"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const p=require("./input-WjGQ7q1J.js"),m=require("./list-BkZK3xVW.js"),c=require("./animable-ChJEXlsE.js"),a=require("./_plugin-vue_export-helper-DeDoBcDj.js"),l=require("vue");require("highlight.js");const h={"component.dropdown.placeholder":"Select a value ..."},b={},g={en:h,fr:b},f={disableFiltering:{type:Boolean,default:!1},items:{type:Array,required:!0},itemLabel:{type:String,default:"label"},itemValue:{type:String,default:"value"},modelValue:{default:void 0,types:[Boolean,Number,Object,String,null]},placeholder:{types:[Boolean,Number,String]},value:{default:void 0,types:[Boolean,Object,Number,String,null]}},y={name:"VuiDropdown",components:{VuiInput:p.default,VuiList:m.default},mixins:[c.animable,a.composable],props:f,emits:["input","update:model-value"],data(){return{keyword:null,selected:null}},computed:{listTitle(){return this.selected?this.placeholderLabel:null},placeholderValue(){const{itemValue:e,selected:t}=this,r=typeof(t==null?void 0:t[e])<"u"?t[e]:t;return r===null?this.placeholderLabel:this.labelFromItem(r)},placeholderLabel(){return this.placeholder?this.placeholder:this.$t("component.dropdown.placeholder")}},watch:{modelValue(e){this.selected=e},value(e){this.selected=e}},created(){a.translatable(g),this.hasModelValue?this.selected=this.modelValue:this.hasValue&&(this.selected=this.value)},methods:{labelFromChild(e,t,r){const{itemValue:n,itemLabel:o}=this;return e[n].reduce((i,d)=>d[n]===r?d[o]:i,t)},labelFromItem(e){const{itemValue:t,itemLabel:r}=this;return this.items.reduce((n,o)=>Array.isArray(o[t])?this.labelFromChild(o,n,e):o[t]===e?o[r]:n,e)},onClick(){this.disabled||this.onAnimate()},onInput(e){this.$emit("input",e),this.onAnimate(!0),this.keyword=e.target.value?e.target.value:null},onToggle(e){this.selected=e,this.keyword=null,this.blur(),this.$emit("update:model-value",e)}}},v=["id"];function w(e,t,r,n,o,i){const d=l.resolveComponent("vui-input"),u=l.resolveComponent("vui-list");return l.openBlock(),l.createElementBlock("div",{id:e.componentId,class:l.normalizeClass(["vui-dropdown",e.$props.class])},[l.renderSlot(e.$slots,"prepend"),l.createElementVNode("div",{class:l.normalizeClass(["vui-dropdown-placeholder",{"vui-dropdown-placeholder--toggled":e.toggled},{"vui-dropdown-placeholder--animating":e.animating},{"vui-dropdown-placeholder--disabled":e.disabled}]),onClick:t[0]||(t[0]=l.withModifiers((...s)=>i.onClick&&i.onClick(...s),["stop"]))},[l.renderSlot(e.$slots,"keyword",{keyword:o.keyword},()=>[l.createVNode(d,{value:o.keyword,type:"text",class:"vui-dropdown-placeholder-label",placeholder:i.placeholderValue,onInput:i.onInput},null,8,["value","placeholder","onInput"])])],2),e.toggled?(l.openBlock(),l.createBlock(u,l.mergeProps({key:0,modelValue:o.selected,"onUpdate:modelValue":t[1]||(t[1]=s=>o.selected=s)},e.$attrs,{class:"vui-dropdown-list","group-id":e.componentGroupId,"disable-filtering":e.disableFiltering,disabled:e.disabled,items:e.items,"item-label":e.itemLabel,"item-value":e.itemValue,keyword:o.keyword,selectable:!0,title:i.listTitle,"onUpdate:modelValue":i.onToggle}),l.createSlots({_:2},[e.$slots.placeholder?{name:"placeholder",fn:l.withCtx(()=>[l.renderSlot(e.$slots,"placeholder")]),key:"0"}:void 0,e.$slots["group-item"]?{name:"group-item",fn:l.withCtx(()=>[l.renderSlot(e.$slots,"group-item")]),key:"1"}:void 0,e.$slots.item?{name:"item",fn:l.withCtx(()=>[l.renderSlot(e.$slots,"item")]),key:"2"}:void 0]),1040,["modelValue","group-id","disable-filtering","disabled","items","item-label","item-value","keyword","title","onUpdate:modelValue"])):l.createCommentVNode("",!0),l.renderSlot(e.$slots,"append")],10,v)}const V=a._export_sfc(y,[["render",w]]);exports.default=V;
